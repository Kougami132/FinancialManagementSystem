#pragma checksum "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "16b6af2bbcb610f3d30c34178c3fe5885a20bc46"
// <auto-generated/>
#pragma warning disable 1591
namespace FMSystem.Client.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\_Imports.razor"
using System.Net.Http.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\_Imports.razor"
using Microsoft.AspNetCore.Components.WebAssembly.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\_Imports.razor"
using FMSystem.Client;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\_Imports.razor"
using FMSystem.Client.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\_Imports.razor"
using FMSystem.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\_Imports.razor"
using AntDesign;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
using AntDesign.Charts;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/")]
    public partial class Index : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.OpenComponent<AntDesign.Row>(1);
            __builder.AddAttribute(2, "Justify", "space-between");
            __builder.AddAttribute(3, "Align", "bottom");
            __builder.AddAttribute(4, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.OpenComponent<AntDesign.Col>(5);
                __builder2.AddAttribute(6, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.OpenComponent<AntDesign.Row>(7);
                    __builder3.AddAttribute(8, "Justify", "space-around");
                    __builder3.AddAttribute(9, "Style", "margin: 16px 0;");
                    __builder3.AddAttribute(10, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<AntDesign.Col>(11);
                        __builder4.AddAttribute(12, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __Blazor.FMSystem.Client.Pages.Index.TypeInference.CreateRadioGroup_0(__builder5, 13, 14, "solid", 15, Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 15 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                                                                     async(string i) => { await Filter(); }

#line default
#line hidden
#nullable disable
                            ), 16, 
#nullable restore
#line 15 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                             period

#line default
#line hidden
#nullable disable
                            , 17, Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => period = __value, period)), 18, () => period, 19, (__builder6) => {
                                __Blazor.FMSystem.Client.Pages.Index.TypeInference.CreateRadio_1(__builder6, 20, 21, true, 22, 
#nullable restore
#line 16 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                                    "all"

#line default
#line hidden
#nullable disable
                                , 23, (__builder7) => {
                                    __builder7.AddMarkupContent(24, "总");
                                }
                                );
                                __builder6.AddMarkupContent(25, "\r\n                        ");
                                __Blazor.FMSystem.Client.Pages.Index.TypeInference.CreateRadio_2(__builder6, 26, 27, true, 28, 
#nullable restore
#line 17 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                                    "month"

#line default
#line hidden
#nullable disable
                                , 29, (__builder7) => {
                                    __builder7.AddMarkupContent(30, "月");
                                }
                                );
                                __builder6.AddMarkupContent(31, "\r\n                        ");
                                __Blazor.FMSystem.Client.Pages.Index.TypeInference.CreateRadio_3(__builder6, 32, 33, true, 34, 
#nullable restore
#line 18 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                                    "week"

#line default
#line hidden
#nullable disable
                                , 35, (__builder7) => {
                                    __builder7.AddMarkupContent(36, "周");
                                }
                                );
                                __builder6.AddMarkupContent(37, "\r\n                        ");
                                __Blazor.FMSystem.Client.Pages.Index.TypeInference.CreateRadio_4(__builder6, 38, 39, true, 40, 
#nullable restore
#line 19 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                                    "day"

#line default
#line hidden
#nullable disable
                                , 41, (__builder7) => {
                                    __builder7.AddMarkupContent(42, "日");
                                }
                                );
                            }
                            );
                        }
                        ));
                        __builder4.CloseComponent();
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(43, "\r\n            ");
                    __builder3.OpenComponent<AntDesign.Row>(44);
                    __builder3.AddAttribute(45, "Align", "middle");
                    __builder3.AddAttribute(46, "Style", "margin: 16px 0;");
                    __builder3.AddAttribute(47, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<AntDesign.Col>(48);
                        __builder4.AddAttribute(49, "Offset", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<OneOf.OneOf<System.String, System.Int32>>(
#nullable restore
#line 24 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                       6

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(50, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.OpenComponent<AntDesign.Avatar>(51);
                            __builder5.AddAttribute(52, "Src", "images/input.png");
                            __builder5.CloseComponent();
                        }
                        ));
                        __builder4.CloseComponent();
                        __builder4.AddMarkupContent(53, "\r\n                ");
                        __builder4.OpenComponent<AntDesign.Col>(54);
                        __builder4.AddAttribute(55, "Flex", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<OneOf.OneOf<System.String, System.Int32>>(
#nullable restore
#line 27 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                       "auto"

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(56, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.OpenComponent<AntDesign.Row>(57);
                            __builder5.AddAttribute(58, "Justify", "space-around");
                            __builder5.AddAttribute(59, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder6) => {
                                __builder6.OpenComponent<AntDesign.Col>(60);
                                __builder6.AddAttribute(61, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder7) => {
                                    __builder7.OpenElement(62, "span");
                                    __builder7.AddAttribute(63, "style", "color: lightgreen; font-size: 30px;");
                                    __builder7.AddContent(64, 
#nullable restore
#line 30 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                                                               input

#line default
#line hidden
#nullable disable
                                    );
                                    __builder7.CloseElement();
                                }
                                ));
                                __builder6.CloseComponent();
                            }
                            ));
                            __builder5.CloseComponent();
                        }
                        ));
                        __builder4.CloseComponent();
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(65, "\r\n            ");
                    __builder3.OpenComponent<AntDesign.Row>(66);
                    __builder3.AddAttribute(67, "Align", "middle");
                    __builder3.AddAttribute(68, "Style", "margin: 16px 0;");
                    __builder3.AddAttribute(69, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<AntDesign.Col>(70);
                        __builder4.AddAttribute(71, "Offset", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<OneOf.OneOf<System.String, System.Int32>>(
#nullable restore
#line 36 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                       6

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(72, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.OpenComponent<AntDesign.Avatar>(73);
                            __builder5.AddAttribute(74, "Src", "images/output.png");
                            __builder5.CloseComponent();
                        }
                        ));
                        __builder4.CloseComponent();
                        __builder4.AddMarkupContent(75, "\r\n                ");
                        __builder4.OpenComponent<AntDesign.Col>(76);
                        __builder4.AddAttribute(77, "Flex", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<OneOf.OneOf<System.String, System.Int32>>(
#nullable restore
#line 39 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                       "auto"

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddAttribute(78, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.OpenComponent<AntDesign.Row>(79);
                            __builder5.AddAttribute(80, "Justify", "space-around");
                            __builder5.AddAttribute(81, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder6) => {
                                __builder6.OpenComponent<AntDesign.Col>(82);
                                __builder6.AddAttribute(83, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder7) => {
                                    __builder7.OpenElement(84, "span");
                                    __builder7.AddAttribute(85, "style", "color: red; font-size: 30px;");
                                    __builder7.AddContent(86, 
#nullable restore
#line 42 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                                                        output

#line default
#line hidden
#nullable disable
                                    );
                                    __builder7.CloseElement();
                                }
                                ));
                                __builder6.CloseComponent();
                            }
                            ));
                            __builder5.CloseComponent();
                        }
                        ));
                        __builder4.CloseComponent();
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(87, "\r\n            ");
                    __builder3.OpenElement(88, "div");
                    __builder3.AddAttribute(89, "class", "back_card");
                    __builder3.AddAttribute(90, "style", "margin-bottom: 0;");
                    __Blazor.FMSystem.Client.Pages.Index.TypeInference.CreateRadioGroup_5(__builder3, 91, 92, "solid", 93, Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 48 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                                                               async(InputOrOutput i) => { await UpdateSum(); }

#line default
#line hidden
#nullable disable
                    ), 94, 
#nullable restore
#line 48 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                         type

#line default
#line hidden
#nullable disable
                    , 95, Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => type = __value, type)), 96, () => type, 97, (__builder4) => {
                        __Blazor.FMSystem.Client.Pages.Index.TypeInference.CreateRadio_6(__builder4, 98, 99, true, 100, 
#nullable restore
#line 49 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                               InputOrOutput.INPUT

#line default
#line hidden
#nullable disable
                        , 101, (__builder5) => {
                            __builder5.AddMarkupContent(102, "收入");
                        }
                        );
                        __builder4.AddMarkupContent(103, "\r\n                    ");
                        __Blazor.FMSystem.Client.Pages.Index.TypeInference.CreateRadio_7(__builder4, 104, 105, true, 106, 
#nullable restore
#line 50 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                               InputOrOutput.OUTPUT

#line default
#line hidden
#nullable disable
                        , 107, (__builder5) => {
                            __builder5.AddMarkupContent(108, "支出");
                        }
                        );
                    }
                    );
                    __builder3.AddMarkupContent(109, "\r\n                ");
                    __builder3.OpenComponent<AntDesign.Divider>(110);
                    __builder3.AddAttribute(111, "Type", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<AntDesign.DirectionVHType>(
#nullable restore
#line 52 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                               DirectionVHType.Vertical

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(112, "\r\n                ");
                    __Blazor.FMSystem.Client.Pages.Index.TypeInference.CreateRadioGroup_8(__builder3, 113, 114, "solid", 115, Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 53 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                                                               async(string i) => { await UpdateChartData(); }

#line default
#line hidden
#nullable disable
                    ), 116, 
#nullable restore
#line 53 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                         cORa

#line default
#line hidden
#nullable disable
                    , 117, Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => cORa = __value, cORa)), 118, () => cORa, 119, (__builder4) => {
                        __Blazor.FMSystem.Client.Pages.Index.TypeInference.CreateRadio_9(__builder4, 120, 121, true, 122, 
#nullable restore
#line 54 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                                "category"

#line default
#line hidden
#nullable disable
                        , 123, (__builder5) => {
                            __builder5.AddMarkupContent(124, "按分类");
                        }
                        );
                        __builder4.AddMarkupContent(125, "\r\n                    ");
                        __Blazor.FMSystem.Client.Pages.Index.TypeInference.CreateRadio_10(__builder4, 126, 127, true, 128, 
#nullable restore
#line 55 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                                "account"

#line default
#line hidden
#nullable disable
                        , 129, (__builder5) => {
                            __builder5.AddMarkupContent(130, "按账户");
                        }
                        );
                    }
                    );
                    __builder3.CloseElement();
                }
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(131, "\r\n        ");
                __builder2.OpenComponent<AntDesign.Col>(132);
                __builder2.AddAttribute(133, "Flex", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<OneOf.OneOf<System.String, System.Int32>>(
#nullable restore
#line 59 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                               "auto"

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(134, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.OpenElement(135, "div");
                    __builder3.AddAttribute(136, "class", "back_card");
                    __builder3.OpenComponent<AntDesign.Row>(137);
                    __builder3.AddAttribute(138, "Justify", "space-around");
                    __builder3.AddAttribute(139, "Align", "middle");
                    __builder3.AddAttribute(140, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<AntDesign.Col>(141);
                        __builder4.AddAttribute(142, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder5) => {
                            __builder5.OpenComponent<AntDesign.Charts.GroupedColumn<object>>(143);
                            __builder5.AddAttribute(144, "Config", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<AntDesign.Charts.GroupedColumnConfig>(
#nullable restore
#line 64 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                                                    groupedColumnConfig

#line default
#line hidden
#nullable disable
                            ));
                            __builder5.AddComponentReferenceCapture(145, (__value) => {
#nullable restore
#line 64 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                             groupedColumn = (AntDesign.Charts.GroupedColumn<object>)__value;

#line default
#line hidden
#nullable disable
                            }
                            );
                            __builder5.CloseComponent();
                        }
                        ));
                        __builder4.CloseComponent();
                    }
                    ));
                    __builder3.CloseComponent();
                    __builder3.CloseElement();
                }
                ));
                __builder2.CloseComponent();
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(146, "\r\n    ");
            __builder.OpenComponent<AntDesign.Row>(147);
            __builder.AddAttribute(148, "Class", "back_card");
            __builder.AddAttribute(149, "Justify", "space-around");
            __builder.AddAttribute(150, "Align", "middle");
            __builder.AddAttribute(151, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.OpenComponent<AntDesign.Col>(152);
                __builder2.AddAttribute(153, "Span", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<OneOf.OneOf<System.String, System.Int32>>(
#nullable restore
#line 71 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                             8

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(154, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.OpenComponent<AntDesign.Card>(155);
                    __builder3.AddAttribute(156, "Loading", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 72 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                           loading

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(157, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<AntDesign.Charts.Donut<CircleDto>>(158);
                        __builder4.AddAttribute(159, "Config", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<AntDesign.Charts.DonutConfig>(
#nullable restore
#line 73 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                             donutConfig

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddComponentReferenceCapture(160, (__value) => {
#nullable restore
#line 73 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                              donut = (AntDesign.Charts.Donut<CircleDto>)__value;

#line default
#line hidden
#nullable disable
                        }
                        );
                        __builder4.CloseComponent();
                    }
                    ));
                    __builder3.CloseComponent();
                }
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(161, "\r\n        ");
                __builder2.OpenComponent<AntDesign.Col>(162);
                __builder2.AddAttribute(163, "Span", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<OneOf.OneOf<System.String, System.Int32>>(
#nullable restore
#line 76 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                             8

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(164, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.OpenComponent<AntDesign.Card>(165);
                    __builder3.AddAttribute(166, "Loading", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 77 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                           loading

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(167, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<AntDesign.Charts.Radar<CircleDto>>(168);
                        __builder4.AddAttribute(169, "Config", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<AntDesign.Charts.RadarConfig>(
#nullable restore
#line 78 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                             radarConfig

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddComponentReferenceCapture(170, (__value) => {
#nullable restore
#line 78 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                              radar = (AntDesign.Charts.Radar<CircleDto>)__value;

#line default
#line hidden
#nullable disable
                        }
                        );
                        __builder4.CloseComponent();
                    }
                    ));
                    __builder3.CloseComponent();
                }
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(171, "\r\n        ");
                __builder2.OpenComponent<AntDesign.Col>(172);
                __builder2.AddAttribute(173, "Span", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<OneOf.OneOf<System.String, System.Int32>>(
#nullable restore
#line 81 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                             8

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(174, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.OpenComponent<AntDesign.Card>(175);
                    __builder3.AddAttribute(176, "Loading", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 82 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                           loading

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(177, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder4) => {
                        __builder4.OpenComponent<AntDesign.Charts.Rose<CircleDto>>(178);
                        __builder4.AddAttribute(179, "Config", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<AntDesign.Charts.RoseConfig>(
#nullable restore
#line 83 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                                           roseConfig

#line default
#line hidden
#nullable disable
                        ));
                        __builder4.AddComponentReferenceCapture(180, (__value) => {
#nullable restore
#line 83 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
                             rose = (AntDesign.Charts.Rose<CircleDto>)__value;

#line default
#line hidden
#nullable disable
                        }
                        );
                        __builder4.CloseComponent();
                    }
                    ));
                    __builder3.CloseComponent();
                }
                ));
                __builder2.CloseComponent();
            }
            ));
            __builder.CloseComponent();
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 91 "E:\Project C#\FinancialManagementSystem\FMSystem.Client\Pages\Index.razor"
       

    private IEnumerable<Record> records;
    private IEnumerable<Category> categories;
    private IEnumerable<Account> accounts;
    private IEnumerable<Record> showingRecords;
    private string period = "all";
    private double input = 0;
    private double output = 0;
    private IChartComponent groupedColumnLine;
    private IChartComponent groupedColumn;
    private IChartComponent donut;
    private IChartComponent radar;
    private IChartComponent rose;
    private InputOrOutput type = InputOrOutput.INPUT;
    private string cORa = "category";
    private bool loading = false;

    [CascadingParameter]
    private Task<AuthenticationState> authenticationStateTask { get; set; }
    protected override async Task OnInitializedAsync()
    {
        records = await Http.GetFromJsonAsync<Record[]>("Api/Record/GetRecord");
        categories = await Http.GetFromJsonAsync<Category[]>("Api/Category/GetCategory");
        accounts = await Http.GetFromJsonAsync<Account[]>("Api/Account/GetAccount");
        if (records.Count() != 0)
        {
            await Filter();
        }
    }

    private async Task Filter()
    {
        DateTime now = Convert.ToDateTime(DateTime.Now.ToShortDateString());
        int days = 0;
        if (period == "month") days = 30;
        else if (period == "week") days = 7;
        else if (period == "day") days = 1;
        if (period == "all")
        {
            showingRecords = records;
        }
        else
        {
            showingRecords = records.Where(i => (now - i.CreateTime).Days < days);
        }
        await UpdateSum();
    }

    private async Task UpdateSum()
    {
        input = 0;
        output = 0;

        foreach (Record i in showingRecords)
        {
            if (i.Type == InputOrOutput.INPUT)
            {
                input += i.Value;
            }
            else if (i.Type == InputOrOutput.OUTPUT)
            {
                output += i.Value;
            }
        }
        //await UpdateColumnLineChartData();
        await UpdateChartData();
        await UpdateColumnData();
    }

    private async Task UpdateColumnLineChartData()
    {
        List<ColumnDto> column = new();
        List<LineDto> line = new();
        column.AddRange(new List<ColumnDto>(Enumerable.Range(1, 10).Select(i => new ColumnDto()
        {
            value = 0,
            type = i <= 5 ? "收入" : "支出"
        })));
        line.AddRange(new List<LineDto>(Enumerable.Range(1, 5).Select(i => new LineDto()
        {
            rate = 0,
            name = "收支比"
        })));
        DateTime now = Convert.ToDateTime(DateTime.Now.ToShortDateString());
        for (int i = 0; i < showingRecords.Count(); i++)
        {
            Record currentRecord = showingRecords.ElementAt(i);
            int day = (now - currentRecord.CreateTime).Days;
            if (day < 5)
            {
                if (currentRecord.Type == InputOrOutput.INPUT)
                {
                    column[day].value += currentRecord.Value;
                }
                else if (currentRecord.Type == InputOrOutput.OUTPUT)
                {
                    column[day + 5].value += currentRecord.Value;
                }
            }
        }
        for (int i = 0; i < 5; i++)
        {
            column[i].time = now.AddDays(-i).ToShortDateString();
            column[i + 5].time = now.AddDays(-i).ToShortDateString();
            //data.Value[i].Type = "收入";
            //data.Value[i + 5].Type = "支出";
            line[i].time = now.AddDays(-i).ToShortDateString();
            line[i].rate = column[i + 5].value == 0 ? 0 : column[i].value / column[i + 5].value;
            //data.Rate[i].Name = "收支比";
        }
        List<object> columnObj = column.ConvertAll(i => (object)i);
        List<object> lineObj = line.ConvertAll(i => (object)i);
        List<object> data = new List<object> { columnObj, null };
        List<object> test = new List<object> { new List<object>
        {
            new {time = "2019-03", value = 350.4545445, type = "uv"},
            new {time = "2019-04", value = 922.54400, type = "uv"},
            new {time = "2019-05", value = 3045.450, type = "uv"},
            new {time = "2019-06", value = 4554.5440, type = "uv"},
            new {time = "2019-07", value = 47564.0, type = "uv"},
            new {time = "2019-03", value = 2434.4520, type = "bill"},
            new {time = "2019-04", value = 30453.450, type = "bill"},
            new {time = "2019-05", value = 25453.0, type = "bill"},
            new {time = "2019-06", value = 2245.540, type = "bill"},
            new {time = "2019-07", value = 36543.045452, type = "bill"}
        }, new List<object>
        {
            new {time = "2019-03", rate = 465.13568, name = "test"},
            new {time = "2019-04", rate = 46593.356549, name = "test"},
            new {time = "2019-05", rate = 4978.16594564, name = "test"},
            new {time = "2019-06", rate = 3874.458540, name = "test"},
            new {time = "2019-07", rate = 79746.6568, name = "test"}
        } };
        messageService.Info(JsonConvert.SerializeObject(data));
        await groupedColumnLine.ChangeData(data);
    }

    private async Task UpdateColumnData()
    {
        List<ColumnDto> data = new();

        data.AddRange(new List<ColumnDto>(Enumerable.Range(1, 14).Select(i => new ColumnDto()
        {
            value = 0,
            type = i <= 7 ? "收入" : "支出"
        })));
        int count = period == "month" ? 30 : period == "week" ? 7 : 1;
        DateTime now = Convert.ToDateTime(DateTime.Now.ToShortDateString());
        for (int i = 0; i < records.Count(); i++)
        {
            Record currentRecord = records.ElementAt(i);
            int day = (now - currentRecord.CreateTime).Days;
            if (day < 7 * count)
            {
                if (currentRecord.Type == InputOrOutput.INPUT)
                {
                    data[day / count].value += currentRecord.Value;
                }
                else if (currentRecord.Type == InputOrOutput.OUTPUT)
                {
                    data[day / count + 7].value += currentRecord.Value;
                }
            }
        }
        for (int i = 0; i < 7; i++)
        {
            if (count == 1)
            {
                data[i].time = now.AddDays(-i).ToShortDateString();
                data[i + 7].time = now.AddDays(-i).ToShortDateString();
            }
            else
            {
                data[i].time = now.AddDays(-(i + 1) * count).ToShortDateString() + " - " + now.AddDays(-i * count).ToShortDateString();
                data[i + 7].time = now.AddDays(-(i + 1) * count).ToShortDateString() + " - " + now.AddDays(-i * count).ToShortDateString();
            }
        }
        data.Reverse();
        await groupedColumn.ChangeData(data);
    }

    private async Task UpdateChartData()
    {
        if (type == InputOrOutput.INPUT && input == 0 || type == InputOrOutput.OUTPUT && output == 0)
        {
            loading = true;
            return;
        }
        else
        {
            loading = false;
        }
        List<CircleDto> data = new();
        foreach (Record i in showingRecords)
        {
            if (i.Type == type)
            {
                if (cORa == "category")
                {
                    if (!categories.Any(j => j.Id == i.Category))
                    {
                        if (data.Any(j => j.Type == ""))
                        {
                            data[data.FindIndex(j => j.Type == "")].Value += i.Value;
                        }
                        else
                        {
                            data.Add(new CircleDto("", i.Value));
                        }
                    }
                    else
                    {
                        if (data.Any(j => j.Type == categories.First(k => k.Id == i.Category).Name))
                        {
                            data[data.FindIndex(j => j.Type == categories.First(k => k.Id == i.Category).Name)].Value += i.Value;
                        }
                        else
                        {
                            data.Add(new CircleDto(categories.First(k => k.Id == i.Category).Name, i.Value));
                        }
                    }
                }
                else if (cORa == "account")
                {
                    if (!accounts.Any(j => j.Id == i.Account))
                    {
                        if (data.Any(j => j.Type == ""))
                        {
                            data[data.FindIndex(j => j.Type == "")].Value += i.Value;
                        }
                        else
                        {
                            data.Add(new CircleDto("", i.Value));
                        }
                    }
                    else
                    {
                        if (data.Any(j => j.Type == accounts.First(k => k.Id == i.Account).Name))
                        {
                            data[data.FindIndex(j => j.Type == accounts.First(k => k.Id == i.Account).Name)].Value += i.Value;
                        }
                        else
                        {
                            data.Add(new CircleDto(accounts.First(k => k.Id == i.Account).Name, i.Value));
                        }
                    }
                }

            }
        }
        if (data.Any(i => i.Type == "" || i.Type == null))
        {
            data[data.FindIndex(i => i.Type == "" || i.Type == null)].Type = "其它";
        }
        await donut.ChangeData(data);
        await donut.ChangeData(data);               //fix chart bug
        await donut.UpdateConfig(donutConfig);      //fix chart bug
        await rose.ChangeData(data);
        await radar.ChangeData(data);
    }

    private readonly DonutConfig donutConfig = new DonutConfig
    {
        ForceFit = true,
        Radius = 0.8,
        Padding = "auto",
        AngleField = "value",
        ColorField = "type"
    };

    private readonly RadarConfig radarConfig = new RadarConfig
    {
        AngleField = "type",
        RadiusField = "value",
        RadiusAxis = new ValueAxis
        {
            Grid = new BaseAxisGrid
            {
                AlternateColor = new[] { "rgba(0, 0, 0, 0.04)", null }
            }
        },
        Area = new RadarViewConfigArea
        {
            Visible = false
        },
        Point = new RadarViewConfigPoint
        {
            Visible = true
        }
    };

    private readonly RoseConfig roseConfig = new RoseConfig
    {
        ForceFit = true,
        Radius = 0.8,
        RadiusField = "value",
        CategoryField = "type",
        ColorField = "type",
        Label = new RoseLabel
        {
            Visible = true,
            Type = "outer"
        }
    };

    private readonly GroupedColumnLineConfig groupedColumnLineConfig = new GroupedColumnLineConfig()
    {
        XField = "time",
        YField = new[] { "value", "rate" },
        ColumnGroupField = "type",
        LineSeriesField = "name"
    };

    private readonly GroupedColumnConfig groupedColumnConfig = new GroupedColumnConfig
    {
        Width = 1000,
        Height = 222,
        XField = "time",
        YField = "value",
        XAxis = new CatAxis
        {
            Visible = true,
            Title = new BaseAxisTitle
            {
                Visible = false
            }
        },
        YAxis = new ValueAxis
        {
            Min = 0
        },
        Label = new ColumnViewConfigLabel
        {
            Visible = true
        },
        GroupField = "type",
        Color = new[] { "#1ca9e6", "#f88c24" }
    };




#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private MessageService messageService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private HttpClient Http { get; set; }
    }
}
namespace __Blazor.FMSystem.Client.Pages.Index
{
    #line hidden
    internal static class TypeInference
    {
        public static void CreateRadioGroup_0<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.String __arg0, int __seq1, global::Microsoft.AspNetCore.Components.EventCallback<TValue> __arg1, int __seq2, TValue __arg2, int __seq3, global::Microsoft.AspNetCore.Components.EventCallback<TValue> __arg3, int __seq4, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg4, int __seq5, global::Microsoft.AspNetCore.Components.RenderFragment __arg5)
        {
        __builder.OpenComponent<global::AntDesign.RadioGroup<TValue>>(seq);
        __builder.AddAttribute(__seq0, "ButtonStyle", __arg0);
        __builder.AddAttribute(__seq1, "OnChange", __arg1);
        __builder.AddAttribute(__seq2, "Value", __arg2);
        __builder.AddAttribute(__seq3, "ValueChanged", __arg3);
        __builder.AddAttribute(__seq4, "ValueExpression", __arg4);
        __builder.AddAttribute(__seq5, "ChildContent", __arg5);
        __builder.CloseComponent();
        }
        public static void CreateRadio_1<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Boolean __arg0, int __seq1, TValue __arg1, int __seq2, global::Microsoft.AspNetCore.Components.RenderFragment __arg2)
        {
        __builder.OpenComponent<global::AntDesign.Radio<TValue>>(seq);
        __builder.AddAttribute(__seq0, "RadioButton", __arg0);
        __builder.AddAttribute(__seq1, "Value", __arg1);
        __builder.AddAttribute(__seq2, "ChildContent", __arg2);
        __builder.CloseComponent();
        }
        public static void CreateRadio_2<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Boolean __arg0, int __seq1, TValue __arg1, int __seq2, global::Microsoft.AspNetCore.Components.RenderFragment __arg2)
        {
        __builder.OpenComponent<global::AntDesign.Radio<TValue>>(seq);
        __builder.AddAttribute(__seq0, "RadioButton", __arg0);
        __builder.AddAttribute(__seq1, "Value", __arg1);
        __builder.AddAttribute(__seq2, "ChildContent", __arg2);
        __builder.CloseComponent();
        }
        public static void CreateRadio_3<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Boolean __arg0, int __seq1, TValue __arg1, int __seq2, global::Microsoft.AspNetCore.Components.RenderFragment __arg2)
        {
        __builder.OpenComponent<global::AntDesign.Radio<TValue>>(seq);
        __builder.AddAttribute(__seq0, "RadioButton", __arg0);
        __builder.AddAttribute(__seq1, "Value", __arg1);
        __builder.AddAttribute(__seq2, "ChildContent", __arg2);
        __builder.CloseComponent();
        }
        public static void CreateRadio_4<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Boolean __arg0, int __seq1, TValue __arg1, int __seq2, global::Microsoft.AspNetCore.Components.RenderFragment __arg2)
        {
        __builder.OpenComponent<global::AntDesign.Radio<TValue>>(seq);
        __builder.AddAttribute(__seq0, "RadioButton", __arg0);
        __builder.AddAttribute(__seq1, "Value", __arg1);
        __builder.AddAttribute(__seq2, "ChildContent", __arg2);
        __builder.CloseComponent();
        }
        public static void CreateRadioGroup_5<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.String __arg0, int __seq1, global::Microsoft.AspNetCore.Components.EventCallback<TValue> __arg1, int __seq2, TValue __arg2, int __seq3, global::Microsoft.AspNetCore.Components.EventCallback<TValue> __arg3, int __seq4, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg4, int __seq5, global::Microsoft.AspNetCore.Components.RenderFragment __arg5)
        {
        __builder.OpenComponent<global::AntDesign.RadioGroup<TValue>>(seq);
        __builder.AddAttribute(__seq0, "ButtonStyle", __arg0);
        __builder.AddAttribute(__seq1, "OnChange", __arg1);
        __builder.AddAttribute(__seq2, "Value", __arg2);
        __builder.AddAttribute(__seq3, "ValueChanged", __arg3);
        __builder.AddAttribute(__seq4, "ValueExpression", __arg4);
        __builder.AddAttribute(__seq5, "ChildContent", __arg5);
        __builder.CloseComponent();
        }
        public static void CreateRadio_6<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Boolean __arg0, int __seq1, TValue __arg1, int __seq2, global::Microsoft.AspNetCore.Components.RenderFragment __arg2)
        {
        __builder.OpenComponent<global::AntDesign.Radio<TValue>>(seq);
        __builder.AddAttribute(__seq0, "RadioButton", __arg0);
        __builder.AddAttribute(__seq1, "Value", __arg1);
        __builder.AddAttribute(__seq2, "ChildContent", __arg2);
        __builder.CloseComponent();
        }
        public static void CreateRadio_7<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Boolean __arg0, int __seq1, TValue __arg1, int __seq2, global::Microsoft.AspNetCore.Components.RenderFragment __arg2)
        {
        __builder.OpenComponent<global::AntDesign.Radio<TValue>>(seq);
        __builder.AddAttribute(__seq0, "RadioButton", __arg0);
        __builder.AddAttribute(__seq1, "Value", __arg1);
        __builder.AddAttribute(__seq2, "ChildContent", __arg2);
        __builder.CloseComponent();
        }
        public static void CreateRadioGroup_8<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.String __arg0, int __seq1, global::Microsoft.AspNetCore.Components.EventCallback<TValue> __arg1, int __seq2, TValue __arg2, int __seq3, global::Microsoft.AspNetCore.Components.EventCallback<TValue> __arg3, int __seq4, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg4, int __seq5, global::Microsoft.AspNetCore.Components.RenderFragment __arg5)
        {
        __builder.OpenComponent<global::AntDesign.RadioGroup<TValue>>(seq);
        __builder.AddAttribute(__seq0, "ButtonStyle", __arg0);
        __builder.AddAttribute(__seq1, "OnChange", __arg1);
        __builder.AddAttribute(__seq2, "Value", __arg2);
        __builder.AddAttribute(__seq3, "ValueChanged", __arg3);
        __builder.AddAttribute(__seq4, "ValueExpression", __arg4);
        __builder.AddAttribute(__seq5, "ChildContent", __arg5);
        __builder.CloseComponent();
        }
        public static void CreateRadio_9<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Boolean __arg0, int __seq1, TValue __arg1, int __seq2, global::Microsoft.AspNetCore.Components.RenderFragment __arg2)
        {
        __builder.OpenComponent<global::AntDesign.Radio<TValue>>(seq);
        __builder.AddAttribute(__seq0, "RadioButton", __arg0);
        __builder.AddAttribute(__seq1, "Value", __arg1);
        __builder.AddAttribute(__seq2, "ChildContent", __arg2);
        __builder.CloseComponent();
        }
        public static void CreateRadio_10<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Boolean __arg0, int __seq1, TValue __arg1, int __seq2, global::Microsoft.AspNetCore.Components.RenderFragment __arg2)
        {
        __builder.OpenComponent<global::AntDesign.Radio<TValue>>(seq);
        __builder.AddAttribute(__seq0, "RadioButton", __arg0);
        __builder.AddAttribute(__seq1, "Value", __arg1);
        __builder.AddAttribute(__seq2, "ChildContent", __arg2);
        __builder.CloseComponent();
        }
    }
}
#pragma warning restore 1591
